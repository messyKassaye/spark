{"ast":null,"code":"var _jsxFileName = \"D:\\\\projects\\\\spark\\\\spark_front\\\\src\\\\authentication\\\\users\\\\widgets\\\\Chats.js\";\nimport React from 'react';\n\nclass Chats extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.sumId = (id1, id2) => {\n      return Number(id1) + Number(id2);\n    };\n\n    this.showData = data => {\n      const {\n        chats\n      } = this.state;\n      chats.push(data);\n      this.setState(chats);\n    };\n\n    this.state = {\n      chats: []\n    };\n  }\n\n  componentDidMount() {\n    let PUSHER_APP_KEY = \"52d240141d3de6310e4e\";\n    let pusher = new Pusher(PUSHER_APP_KEY, {\n      cluster: 'ap2',\n      forceTLS: true\n    });\n    let channel = pusher.subscribe(`channel-${this.sumId(this.props.user.attribute.id, this.props.chatUser.attribute.id)}`);\n    channel.bind(`broadcast-${this.sumId(this.props.user.attribute.id, this.props.chatUser.attribute.id)}`, data => {\n      this.showData(data);\n      console.log(`message:${data.id}`);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }\n    });\n  }\n\n}\n\nexport default Chats;","map":{"version":3,"sources":["D:/projects/spark/spark_front/src/authentication/users/widgets/Chats.js"],"names":["React","Chats","Component","constructor","props","sumId","id1","id2","Number","showData","data","chats","state","push","setState","componentDidMount","PUSHER_APP_KEY","pusher","Pusher","cluster","forceTLS","channel","subscribe","user","attribute","id","chatUser","bind","console","log","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,KAAN,SAAoBD,KAAK,CAACE,SAA1B,CAAmC;AAE/BC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAwBnBC,KAxBmB,GAwBX,CAACC,GAAD,EAAKC,GAAL,KAAW;AACf,aAAOC,MAAM,CAACF,GAAD,CAAN,GAAYE,MAAM,CAACD,GAAD,CAAzB;AACH,KA1BkB;;AAAA,SA4BnBE,QA5BmB,GA4BPC,IAAD,IAAQ;AACf,YAAM;AAACC,QAAAA;AAAD,UAAU,KAAKC,KAArB;AACAD,MAAAA,KAAK,CAACE,IAAN,CAAWH,IAAX;AACA,WAAKI,QAAL,CAAcH,KAAd;AACH,KAhCkB;;AAEf,SAAKC,KAAL,GAAa;AACTD,MAAAA,KAAK,EAAC;AADG,KAAb;AAGH;;AAGDI,EAAAA,iBAAiB,GAAE;AAEf,QAAIC,cAAc,GAAG,sBAArB;AACA,QAAIC,MAAM,GAAG,IAAIC,MAAJ,CAAWF,cAAX,EAA2B;AACxCG,MAAAA,OAAO,EAAE,KAD+B;AAExCC,MAAAA,QAAQ,EAAE;AAF8B,KAA3B,CAAb;AAKA,QAAIC,OAAO,GAAGJ,MAAM,CAACK,SAAP,CAAkB,WAAU,KAAKjB,KAAL,CAAW,KAAKD,KAAL,CAAWmB,IAAX,CAAgBC,SAAhB,CAA0BC,EAArC,EAAwC,KAAKrB,KAAL,CAAWsB,QAAX,CAAoBF,SAApB,CAA8BC,EAAtE,CAA0E,EAAtG,CAAd;AACAJ,IAAAA,OAAO,CAACM,IAAR,CAAc,aAAY,KAAKtB,KAAL,CAAW,KAAKD,KAAL,CAAWmB,IAAX,CAAgBC,SAAhB,CAA0BC,EAArC,EAAwC,KAAKrB,KAAL,CAAWsB,QAAX,CAAoBF,SAApB,CAA8BC,EAAtE,CAA0E,EAApG,EAAuGf,IAAD,IAAQ;AAC9G,WAAKD,QAAL,CAAcC,IAAd;AACAkB,MAAAA,OAAO,CAACC,GAAR,CAAa,WAAUnB,IAAI,CAACe,EAAG,EAA/B;AAEC,KAJD;AAKH;;AAYDK,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ;AAKH;;AA1C8B;;AA6CnC,eAAe7B,KAAf","sourcesContent":["import React from 'react'\r\n\r\nclass Chats extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            chats:[]\r\n        }\r\n    }\r\n    \r\n\r\n    componentDidMount(){\r\n\r\n        let PUSHER_APP_KEY = \"52d240141d3de6310e4e\"\r\n        let pusher = new Pusher(PUSHER_APP_KEY, {\r\n        cluster: 'ap2',\r\n        forceTLS: true\r\n        });\r\n        \r\n        let channel = pusher.subscribe(`channel-${this.sumId(this.props.user.attribute.id,this.props.chatUser.attribute.id)}`);\r\n        channel.bind(`broadcast-${this.sumId(this.props.user.attribute.id,this.props.chatUser.attribute.id)}`,(data)=>{\r\n        this.showData(data)\r\n        console.log(`message:${data.id}`)\r\n\r\n        });\r\n    }\r\n\r\n    sumId = (id1,id2)=>{\r\n        return Number(id1)+Number(id2);\r\n    }\r\n\r\n    showData = (data)=>{\r\n        const {chats} = this.state\r\n        chats.push(data)\r\n        this.setState(chats)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Chats"]},"metadata":{},"sourceType":"module"}