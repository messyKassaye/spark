{"ast":null,"code":"var _jsxFileName = \"D:\\\\projects\\\\spark\\\\spark_front\\\\src\\\\authentication\\\\users\\\\widgets\\\\ChatRoom.js\";\nimport { AppBar, Card, CardContent, CardHeader, CssBaseline, Hidden, IconButton, Input, SwipeableDrawer, Toolbar, Typography } from '@material-ui/core';\nimport { Send } from '@material-ui/icons';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { me } from '../../state/actions/usersActions';\nimport Pusher from 'pusher-js';\nimport DrawerProfile from './DrawerProfile';\nimport ProfileTab from './ProfileTab';\n\nclass ChatBoard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleDrawerToggle = (value, page) => event => {\n      if (event && event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n        return;\n      }\n\n      this.setState({\n        mobileOpen: value,\n        currentPage: page\n      });\n    };\n\n    this.checkInfo = () => {};\n\n    this.showDialog = component => {\n      this.props.showMainDialog({\n        show: true,\n        style: {\n          display: 'flex',\n          flexDirection: 'row',\n          justifyContent: 'flex-start',\n          top: -550\n        },\n        maxWidth: 'sm',\n        page: component,\n        title: `Spark`,\n        actions: {\n          on: false,\n          path: '',\n          id: ''\n        }\n      });\n    };\n\n    this.state = {\n      user: []\n    };\n  }\n\n  componentDidMount() {\n    this.props.me();\n    let PUSHER_APP_KEY = \"52d240141d3de6310e4e\";\n    let pusher = new Pusher(PUSHER_APP_KEY, {\n      cluster: 'ap2',\n      forceTLS: true\n    });\n    let channel = pusher.subscribe('accident-on');\n    channel.bind('all-accidents', data => {\n      const {\n        user\n      } = this.state;\n      user.push(data.id);\n      this.setState(user);\n      console.log(`Pusher ${data}`);\n    });\n  }\n\n  render() {\n    const {\n      container\n    } = this.props;\n    const {\n      classes\n    } = this.props;\n    const drawer = /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.drawerRoot,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(AppBar, {\n      style: {\n        position: \"relative\"\n      },\n      color: 'primary',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Toolbar, {\n      style: {\n        padding: 5\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(DrawerProfile, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(ProfileTab, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.root,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CssBaseline, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"nav\", {\n      className: classes.drawer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Hidden, {\n      smUp: true,\n      implementation: \"css\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(SwipeableDrawer, {\n      container: container,\n      variant: \"temporary\",\n      anchor: theme.direction === 'rtl' ? 'right' : 'left',\n      open: this.state.mobileOpen,\n      onOpen: this.handleDrawerToggle(true, this.state.currentPage),\n      onClose: this.handleDrawerToggle(false, this.state.currentPage),\n      classes: {\n        paper: classes.drawerPaper\n      },\n      ModalProps: {\n        keepMounted: true // Better open performance on mobile.\n\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 25\n      }\n    }, drawer)), /*#__PURE__*/React.createElement(Hidden, {\n      xsDown: true,\n      implementation: \"css\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(SwipeableDrawer, {\n      classes: {\n        paper: classes.drawerPaper\n      },\n      variant: \"permanent\",\n      open: this.state.mobileOpen,\n      onOpen: this.handleDrawerToggle(true, this.state.currentPage),\n      onClose: this.handleDrawerToggle(false, this.state.currentPage),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 25\n      }\n    }, drawer))), /*#__PURE__*/React.createElement(\"main\", {\n      className: classes.content,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  user: state.userData.user,\n  loading: state.userData.loading\n});\n\nexport default connect(mapStateToProps, {\n  me\n})(ChatBoard);","map":{"version":3,"sources":["D:/projects/spark/spark_front/src/authentication/users/widgets/ChatRoom.js"],"names":["AppBar","Card","CardContent","CardHeader","CssBaseline","Hidden","IconButton","Input","SwipeableDrawer","Toolbar","Typography","Send","React","connect","me","Pusher","DrawerProfile","ProfileTab","ChatBoard","Component","constructor","props","handleDrawerToggle","value","page","event","type","key","setState","mobileOpen","currentPage","checkInfo","showDialog","component","showMainDialog","show","style","display","flexDirection","justifyContent","top","maxWidth","title","actions","on","path","id","state","user","componentDidMount","PUSHER_APP_KEY","pusher","cluster","forceTLS","channel","subscribe","bind","data","push","console","log","render","container","classes","drawer","drawerRoot","position","padding","root","theme","direction","paper","drawerPaper","keepMounted","content","mapStateToProps","userData","loading"],"mappings":"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","sourcesContent":["import { AppBar, Card, CardContent, CardHeader, CssBaseline, Hidden, IconButton, Input, SwipeableDrawer, Toolbar, Typography } from '@material-ui/core'\r\nimport { Send } from '@material-ui/icons'\r\nimport React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {me} from '../../state/actions/usersActions'\r\nimport Pusher from 'pusher-js'\r\nimport DrawerProfile from './DrawerProfile'\r\nimport ProfileTab from './ProfileTab'\r\n\r\nclass ChatBoard extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user:[]\r\n        }\r\n    }\r\n    \r\n\r\n    componentDidMount(){\r\n        this.props.me()\r\n    let PUSHER_APP_KEY = \"52d240141d3de6310e4e\"\r\n    let pusher = new Pusher(PUSHER_APP_KEY, {\r\n      cluster: 'ap2',\r\n      forceTLS: true\r\n    });\r\n\r\n    let channel = pusher.subscribe('accident-on');\r\n    channel.bind('all-accidents',(data)=>{\r\n        const {user} = this.state\r\n        user.push(data.id)\r\n        this.setState(user)\r\n        console.log(`Pusher ${data}`)\r\n    });\r\n\r\n    }\r\n\r\n    handleDrawerToggle = (value,page) => event=>{\r\n        if (event && event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\r\n            return;\r\n        }\r\n        this.setState({\r\n            mobileOpen: value,\r\n            currentPage:page\r\n        })\r\n    }\r\n\r\n    checkInfo = ()=>{\r\n       \r\n    }\r\n\r\n    showDialog = (component)=>{\r\n        this.props.showMainDialog({\r\n            show:true,\r\n            style:{display:'flex',flexDirection:'row',justifyContent:'flex-start',top:-550},\r\n            maxWidth:'sm',\r\n            page:component,\r\n            title:`Spark`,\r\n            actions:{\r\n                on:false,\r\n                path:'',\r\n                id:''\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {container} = this.props;\r\n        const {classes} = this.props;\r\n        const drawer = (\r\n            <div className={classes.drawerRoot}>\r\n                <AppBar style={{position: \"relative\"}} color={'primary'}>\r\n                    <Toolbar style={{padding: 5}}>\r\n                        <DrawerProfile/>\r\n                    </Toolbar>\r\n                </AppBar>\r\n                <ProfileTab/>\r\n            </div>\r\n        )\r\n        return (\r\n            <div className={classes.root}>\r\n                <CssBaseline/>\r\n                <nav className={classes.drawer}>\r\n                    {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\r\n                    <Hidden smUp implementation=\"css\">\r\n                        <SwipeableDrawer\r\n                            container={container}\r\n                            variant=\"temporary\"\r\n                            anchor={theme.direction === 'rtl' ? 'right' : 'left'}\r\n                            open={this.state.mobileOpen}\r\n\r\n                            onOpen={this.handleDrawerToggle(true,this.state.currentPage)}\r\n                            onClose={this.handleDrawerToggle(false,this.state.currentPage)}\r\n                            classes={{\r\n                                paper: classes.drawerPaper,\r\n                            }}\r\n                            ModalProps={{\r\n                                keepMounted: true, // Better open performance on mobile.\r\n                            }}\r\n                        >\r\n                            {drawer}\r\n                        </SwipeableDrawer>\r\n                    </Hidden>\r\n                    <Hidden xsDown implementation=\"css\">\r\n                        <SwipeableDrawer\r\n                            classes={{\r\n                                paper: classes.drawerPaper,\r\n                            }}\r\n                            variant=\"permanent\"\r\n                            open={this.state.mobileOpen}\r\n                            onOpen={this.handleDrawerToggle(true,this.state.currentPage)}\r\n                            onClose={this.handleDrawerToggle(false,this.state.currentPage)}\r\n                        >\r\n                            {drawer}\r\n                        </SwipeableDrawer>\r\n                    </Hidden>\r\n                </nav>\r\n                <main className={classes.content}>\r\n                    \r\n                </main>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = state=>({\r\n    user:state.userData.user,\r\n    loading:state.userData.loading\r\n})\r\n\r\nexport default connect(mapStateToProps,{me})(ChatBoard)"]},"metadata":{},"sourceType":"module"}